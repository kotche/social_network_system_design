# System Design социальной сети для курса по [System Design](https://balun.courses/courses/system_design)

## Функциональные требования
- публикация постов из путешествий с фотографиями, небольшим описанием и привязкой к конкретному месту путешествия;
- оценка и комментарии постов других путешественников;
- подписка на других путешественников, чтобы следить за их активностью;
- поиск популярных мест для путешествий и просмотр постов с этих мест;
- просмотр ленты других путешественников;
- просмотр в браузере и мобильных приложениях

## Нефункциональные требования
- 10_000_000 DAU;
- геораспределение - только страны СНГ;
- доступность 99.9%;
- в среднем 1 пользователь выкладывает 1 пост в день
- максимум 3 фото на 1 пост
- максимум 1000 символов на 1 комментарий
- размер 1 фото до 1 мб
- в среднем 50 просмотров 1 поста
- в среднем 10 реакций на пост
- данные о 1 реакции занимают примерно 1 байт
- в среднем 5 комментариев на пост
- максимум 1000 подписчиков у 1 человека
- для каждого поста хранение геолокации
- данные о геолокации занимают примерно 100 байт на 1 пост

## Оценка нагрузки
### Посты
    RPS на запись: 10_000_000 * 1 / 86400 ≈ 116
    RPS на чтение: 10_000_000 * 50 / 86400 ≈ 5787

    Трафик фото в секунду (для s3): 116 * 3 (кол-во фото) * 1 MB (размер фото) ≈ 348 MB/s
    Трафик данных поста в секунду: 116 * 5 * 100B (размер гео) ≈ 58 KB/s
    Трафик данных поста в день: 58 KB/s * 86400 ≈ 5 GB/d
    Данных поста за 5 лет: 5 GB/d * 30 * 12 * 5 ≈ 9 PB

### Реакции
    RPS на запись: 10_000_000 (кол-во постов) * 10 (реакций) / 86400 ≈ 1157
    Трафик в секунду: 1157 * 1 B ≈ 1 KB/s
    Трафик в день: 1 KB/s * 86400 ≈ 86 MB/s
    Данных за 5 лет: 86 MB/s * 30 * 12 * 5 ≈ 154 GB

### Комментарии
    RPS на запись: 10_000_000 (кол-во постов) * 5 (кол-во комментариев) / 86400 ≈ 578
    Трафик в секунду: 578 * 1 KB (макс размер символов) ≈ 578 KB/s
    Трафик в день: 578 KB/s * 86400 ≈ 49 GB/d
    Данных за 5 лет: 49 GB/d * 30 * 12 * 5 ≈ 88 PB
